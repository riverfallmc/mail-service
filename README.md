![logo](./assets/logo.png)
# Mail Service
Микросервис, отвечающий за отправку электронных писем.

## Содержимое
* [Сборка](#сборка)
* [Деплой](#деплой)
* [Настройка](#настройка)
  * [Переменные окружения](#переменные-окружения)
* [Описание эндпоинтов](#эндпоинты)

# Сборка
Микросервис написан на Rust, так что чтобы\
собрать его вам необходимо лишь установить ``cargo`` на ваш ПК,
и прописать следующую команду

```bash
cargo build --release
```

После успешной сборки вы сможете найти артефакт по этому пути ``./target/release/wss_service``.

# Деплой
Команды для деплоя уже есть в нашем [Puff-файле](./puff.yml).

[Узнать подробнее что такое Puff-файл](https://github.com/smokingplaya/puff)

```bash
# Собирает сервис и пушит его в регистр под тегом latest
puff deploy
```

<!-- # Настройка -->

<!-- ## Переменные окружения -->
<!-- ``DATABASE_URL: string`` - URL для подключения к PostgreSQL. -->

# Эндпоинты

## POST ``/send``

### Описание
Отправляет электронное письмо на указанную почту.

### Аутентификация
``Внутренний эндпоинт`` - это значит что эндпоинт\
должен быть доступен только в рамках API Gateway.

### Тело
```json
{
  "to": "кому отправляется",
  "subject": "тема письма",
  "body": "тело письма"
}
```